---
title: 建立採礦結構 （SQL Server 資料採礦增益集） |Microsoft Docs
ms.custom: ''
ms.date: 12/29/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.suite: ''
ms.technology:
- analysis-services
ms.tgt_pltfrm: ''
ms.topic: conceptual
helpviewer_keywords:
- mining structures, creating
ms.assetid: b8b1eedc-4d6d-4429-a578-e629ec573934
caps.latest.revision: 20
author: minewiskan
ms.author: owend
manager: craigg
ms.openlocfilehash: 2244f9c73d48946628c063d22a1f0645182a73ac
ms.sourcegitcommit: c18fadce27f330e1d4f36549414e5c84ba2f46c2
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 07/02/2018
ms.locfileid: "37244048"
---
# <a name="create-mining-structure-sql-server-data-mining-add-ins"></a>建立採礦結構 (SQL Server 資料採礦增益集)
  ![建立採礦結構 按鈕，資料採礦功能區](media/dmc-createstruct.gif "Create Mining Structure] 按鈕，[資料採礦功能區")  
  
 使用**進階**選項**資料模型化**群組，當您想要建立用於分析，而不需要建立模型的資料集。 這在您想要試驗不同的演算法時會很有用。  
  
 在建立採礦結構之後，請使用[將模型加入結構](add-model-to-structure-data-mining-add-ins-for-excel.md)該結構為基礎的精靈來建立模型。 您也可以藉由建立新的模型**資料採礦進階查詢編輯器**。  
  
 當您想要建立使用進階演算法 (例如線性迴歸或時序群集，其會受到 [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] 的支援，但是精靈不會提供) 或自訂演算法的模型時，也可以使用這個選項。  
  
> [!NOTE]  
>  建立採礦結構時，您也可以建立隨機選取的測試資料集，以用來驗證所有模型。 由於您可以輕鬆地根據一般資料集比較模型精確度，因此會很有幫助。 只要選取選項**將資料分割成定型集和測試集**並指定要保留供測試，通常約 30%的資料中適當的百分比。  
  
## <a name="use-the-wizard-to-create-a-mining-structure"></a>使用精靈建立採礦結構  
  
1.  在 **資料採礦**功能區中，按一下 **進階**，然後選取**建立結構**。  
  
2.  在 **選取來源資料**對話方塊方塊中，指定 Excel 範圍、 Excel 資料表或包含您想要用於分析的資料的外部資料來源。  
  
     按 [下一步] 。  
  
3.  在 **選取資料行**對話方塊方塊中，檢閱所選的資料來源中資料行的清單。  
  
4.  按一下 變更的資料行名稱右邊的箭號**使用量**的資料行中，選擇從這些值：  
  
    -   **索引鍵**。 每個模型至少需要一個索引鍵。  
  
    -   **關鍵時間**。 這個選項僅適用於預測模型 (為其必要項)。  
  
    -   **包含**。 表示資料行應用於採礦結構，但不是索引鍵資料行。  
  
    -   **請勿使用**。 表示資料行不應包含在採礦結構中。  
  
     請記住，在建立模型時，您一律可以忽略資料行，但稍後再加入資料行時，需要重新處理結構和模型。  
  
5.  按一下瀏覽 **（...）** 按鈕，以設定內容類型、 資料型別，以及模型旗標。  
  
    > [!NOTE]  
    >  如果資料行包含數值資料，您應該永遠開啟此對話方塊，以確保選擇的資料類型正確。 在某些情況下，即使輸入資料為數字，您仍需要將它視為類別變數或離散值，而不是連續的數字。  
    >   
    >  例如，郵遞區號資料行預設可能會以連續的 LONG 資料類型列出，但是您可以指定將郵遞區號當做離散文字值處理，以便得到更好的效果。  
    >   
    >  如需詳細資訊，請參閱一節中的內容型別[選擇的資料，for Data Mining](choosing-data-for-data-mining.md)。  
  
     按一下 **[確定]** ，關閉對話方塊。  
  
6.  按 [下一步] 。  
  
     根據您使用的資料類型，您可以在這個步驟之後就完成精靈。 在此情況下，往前跳至**完成**頁面，即可命名採礦結構。  
  
     若為其他模型，您另外還可以建立測試資料集。  
  
7.  在 **將資料分割成定型集和測試資料集**對話方塊方塊中，指定您要分割資料的方式。 根據預設，百分之三十的資料用於測試。  
  
     或者，輸入要用於測試之資料列的數目上限。  
  
     按 [下一步] 。  
  
8.  在 [**完成**] 對話方塊中，輸入名稱和新的採礦結構描述。  
  
9. 按一下 **[完成]**。  
  
### <a name="related-options"></a>相關的選項  
  
|選項|註解|  
|------------|--------------|  
|**選取來源資料**對話方塊|當您選取 Excel 資料表時，您應該指出資料是否已有標頭。 如果略過這個選項，資料的第一列會做為資料行名稱。<br /><br /> 如果您使用的選項**外部資料來源**，您可以使用任何一種可以在定義的資料[!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)]資料來源。 不過，增益集中用於建立新資料來源的對話方塊不包含 Analysis Services 支援的所有資料來源，因此建議您事先在 [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] 伺服器上建立資料來源，然後再使用增益集進行連接。|  
|**資料來源查詢編輯器**對話方塊|在您連接至指定的資料來源之後，您可以加入資料行，或建立自訂查詢以產生自訂資料行。|  
|**將資料分割成定型集和測試資料集**|訓練與測試集的建議的值為 70%用於定型而 30%用於測試;不過，如果您有大量資料時，您可以指定用於測試的資料列的數目上限。|  
|[完成] 對話方塊|某些模型類型提供鑽研選項，如果您在採礦結構中包含詳細資料的資料行，這些選項會很有用。 例如，如果您建立群集模型，您可以包含用於鑽研 (而不是用於分析) 的詳細資料 (例如名稱或電子郵件地址)，以便更容易連絡特定群集中的客戶。|  
  
###  <a name="Bkmk_strctcolumn"></a> 設定資料行使用方式，建立採礦結構精靈  
 在建立資料採礦結構時，可以指定要在採礦結構中包含資料來源的哪些資料行，以及這些資料行的使用方式。 請記住，採礦結構可以支援多個採礦模型。  
  
|值|描述|  
|------------|-----------------|  
|**包含**|指定資料行包含可用於分析或預測的資料。|  
|**索引鍵**|指定資料行包含交易識別碼、序列識別碼，或處理所需的另一個索引鍵。<br /><br /> 所有的演算法都需要索引鍵資料行。 不過，有些演算法只允許單一索引鍵，有些則允許多個索引鍵。<br /><br /> 如果資料行包含索引鍵，但不需要進行處理，請選取**不使用**。|  
|**Key Time**|指定資料行包含日期或其他的數值，可用來唯一識別時間序列的項目。|  
|**請勿使用**|指定應忽略資料行。 不會處理資料行中的資料。|  
  
 若要正確地處理模型，演算法必須知道哪個資料行是唯一識別每個資料列的索引鍵資料行；如果是建立可預測模型，哪個資料行是建立預測的目標資料行；以及使用哪些資料行做為建立預測目標資料行之關聯性的輸入資料行。  
  
-   為指定的資料行**請勿使用**將不會出現在採礦結構中。  
  
     如果加入的資料行不必要或具有不正確的值，就會對分析結果造成不良的影響。 因此，請務必只加入相關的資料行。 不過，請您記住，未用於採礦結構中的資料行就無法用於查詢。  
  
-   為指定的資料行**Include**類型將會包含在採礦結構和稍後可用來分析或預測的採礦模型。  
  
     如果您不確定是否需要使用某資料行，可以將該資料行包含在採礦結構中，然後建立不使用該資料行的採礦模型。 例如，您可以在資料中包含電話號碼資料行以供稍後參考，但建立忽略電話號碼的群集模型。 在建立該群集後，可以建立查詢以傳回屬於特定群集之人員的電話號碼。  
  
-   所有的演算法需要**金鑰**資料行。 索引鍵資料行中的值必須是唯一的。 A **Key Time**資料行是只需要預測或時間序列模型。 執行個體時提供 SQL Server 登入。  
  
### <a name="requirements"></a>需求  
 若要建立資料採礦結構，您必須具有 [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] 執行個體的連接。 即使您使用暫時性結構，還是需要連接。 如需如何建立或變更連線的詳細資訊，請參閱[連接至來源的資料&#40;適用於 Excel 的資料採礦用戶端&#41;](connect-to-source-data-data-mining-client-for-excel.md)。  
  
## <a name="see-also"></a>另請參閱  
 [建立資料採礦模型](creating-a-data-mining-model.md)  
  
  
